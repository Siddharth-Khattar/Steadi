---
phase: 01-platform-validation-spike
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/overlay/App.tsx
  - src/main/App.tsx
  - src/components/ui/GlassPanel.tsx
autonomous: true

must_haves:
  truths:
    - "The overlay displays realistic teleprompter demo text in white on frosted dark glass"
    - "The main window shows app title and basic status information"
    - "The GlassPanel component provides a reusable frosted-glass container for future phases"
    - "Text in the overlay is center-aligned, legible, and styled with appropriate size and line height"
  artifacts:
    - path: "src/overlay/App.tsx"
      provides: "Overlay teleprompter display with static demo script"
      min_lines: 20
    - path: "src/main/App.tsx"
      provides: "Main window with app controls and status"
      min_lines: 15
    - path: "src/components/ui/GlassPanel.tsx"
      provides: "Reusable glassmorphic container component"
      exports: ["GlassPanel"]
  key_links:
    - from: "src/overlay/App.tsx"
      to: "src/styles/globals.css"
      via: "Tailwind utility classes for text styling"
      pattern: "text-white"
    - from: "src/main/App.tsx"
      to: "@tauri-apps/api"
      via: "Tauri invoke for overlay commands"
      pattern: "invoke"
---

<objective>
Build the frontend UI for the overlay and main windows with glassmorphic design primitives.

Purpose: Make the overlay look and feel like a real teleprompter with the glassmorphic aesthetic defined in the context document. Establish reusable UI components that carry forward to future phases.
Output: A polished overlay showing demo teleprompter text on frosted dark glass, a main window with basic controls, and a reusable GlassPanel component.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-platform-validation-spike/01-CONTEXT.md
@.planning/phases/01-platform-validation-spike/01-RESEARCH.md
@.planning/phases/01-platform-validation-spike/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GlassPanel component and overlay teleprompter UI</name>
  <files>
    src/components/ui/GlassPanel.tsx
    src/overlay/App.tsx
  </files>
  <action>
    **src/components/ui/GlassPanel.tsx:**
    - Start with ABOUTME comment: "Reusable glassmorphic container component that provides frosted-glass styling on top of native OS vibrancy effects."
    - Create a `GlassPanel` component that accepts `children`, `className` (optional, for extending styles), and standard div props.
    - The component renders a `<div>` with these Tailwind classes:
      - `rounded-xl` (moderately rounded corners, 8-12px range)
      - `bg-white/5` (very subtle white overlay on top of native vibrancy -- the heavy lifting is done by the OS, this just adds a faint glass layer)
      - `backdrop-blur-sm` (light CSS blur as a supplementary layer -- not the primary blur, that comes from native vibrancy)
      - `shadow-lg shadow-black/20` (soft diffuse drop shadow for edge definition -- no visible border lines per context decisions)
      - `border border-white/10` (extremely subtle edge highlight for depth)
    - Accept and merge the `className` prop so consumers can extend styles.
    - Type the component properly with `React.HTMLAttributes<HTMLDivElement>` spread.
    - Note: The real frosted glass comes from Tauri's native `EffectsBuilder` (HudWindow/Acrylic). This component adds the CSS refinement layer on top. Do NOT use heavy `backdrop-filter: blur(Xpx)` -- it will not blur the desktop, only webview content.

    **src/overlay/App.tsx:**
    - Start with ABOUTME comment: "Overlay window teleprompter display. Shows static demo script text on the native glassmorphic background."
    - The entire overlay body is transparent (from index.html and globals.css). The native vibrancy effect (HudWindow/Acrylic) provides the frosted dark glass.
    - Render a full-height, full-width container with centered content.
    - Display a realistic teleprompter demo script -- 2-3 paragraphs of sample presentation text that mimics actual teleprompter use. Something like a quarterly review opening or product launch script. Make it feel like a real use case, not lorem ipsum.
    - Text styling: `text-white/95` (near-white for readability on dark glass), `text-lg` (comfortable reading size), `font-medium` (slightly bold for teleprompter readability), `leading-relaxed` (generous line height for scanning while speaking), `drop-shadow-sm` (subtle shadow for text legibility against varying backgrounds).
    - Center-aligned text (default per context decisions).
    - Max width ~90% of the container to provide comfortable margins.
    - Padding: `p-4` or `p-5` for breathing room.
    - The overlay should NOT import or use GlassPanel -- the frosted glass comes from native vibrancy on the window itself. The overlay just renders text on a transparent background. GlassPanel is for use inside the main window and future editor UI where native vibrancy may not be applied.
    - Do NOT add any interactive elements to the overlay in this plan. No buttons, no inputs. Just text display.
  </action>
  <verify>
    Run `cargo tauri dev`. The overlay window shows realistic teleprompter text in white on the frosted dark glass background. Text is center-aligned, legible, with comfortable spacing. No CSS artifacts or misalignment. The text fills the overlay nicely (4-6 visible lines).
  </verify>
  <done>
    Overlay displays polished demo teleprompter text. GlassPanel component exists and exports correctly. Text is white, center-aligned, with proper typography for teleprompter readability.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create main window UI with app info and overlay controls</name>
  <files>
    src/main/App.tsx
  </files>
  <action>
    **src/main/App.tsx:**
    - Start with ABOUTME comment: "Main application window. Provides app information and overlay controls for Phase 1 validation spike."
    - Import `invoke` from `@tauri-apps/api/core` for calling Tauri commands.
    - Display a simple, clean main window with:
      1. App title "Steadi" in a prominent heading
      2. Brief subtitle: "Invisible Teleprompter" or similar
      3. A section showing the toggle shortcut: "Press Cmd+Shift+S to toggle overlay" (this is informational -- the shortcut works globally via Tauri's global shortcut plugin)
      4. A "Toggle Overlay" button that calls `invoke('toggle_overlay')` on click. This provides a clickable alternative to the keyboard shortcut.
      5. Styling: Use Tailwind classes. Dark background (`bg-neutral-900`), white text, centered layout. Use the GlassPanel component to wrap the content area, demonstrating the glassmorphic primitive.
    - Keep it minimal. This is a spike control panel, not a final UI. The main window in Phase 2+ will be the full script editor.
    - Handle the invoke response -- `toggle_overlay` returns a boolean indicating new visibility state. Optionally display this state (e.g., "Overlay: visible / hidden").
    - Use `useState` for overlay visibility state, updated after each toggle.
    - Use proper TypeScript types. No `any`.
  </action>
  <verify>
    Run `cargo tauri dev`. The main window shows "Steadi" title, shortcut hint, and a toggle button. Clicking the button toggles the overlay window visibility. The main window uses the GlassPanel component for its content area.
  </verify>
  <done>
    Main window displays app info, shortcut documentation, and a working toggle button. GlassPanel component is used in the main window, proving the reusable primitive works. Toggle button correctly calls the Rust backend and updates displayed state.
  </done>
</task>

</tasks>

<verification>
1. `cargo tauri dev` shows both windows with polished UI
2. Overlay shows realistic demo teleprompter text on frosted dark glass
3. Text is white, center-aligned, with comfortable typography
4. Main window shows app title, shortcut hint, and working toggle button
5. Clicking "Toggle Overlay" in main window hides/shows the overlay
6. GlassPanel component renders with glassmorphic styling in the main window
7. No TypeScript errors (`npx tsc --noEmit` passes)
</verification>

<success_criteria>
- The overlay looks like a real teleprompter -- polished, not a tech demo
- Glassmorphic aesthetic matches "macOS Control Center" reference from context
- Dark smoke tint with white text provides high contrast and readability
- GlassPanel is a clean, reusable component ready for Phase 2 editor
- Main window provides functional overlay control
</success_criteria>

<output>
After completion, create `.planning/phases/01-platform-validation-spike/01-02-SUMMARY.md`
</output>
